import os
import json
import hashlib
rootdir = "tensorflow-1.9.0"
filedict = {}

for subdir, dirs, files in os.walk(rootdir):
    for file in files:
        path = os.path.join(subdir, file)
        processed_path = path[17:]

        with open(path, "rb") as f:
            data = f.read()
            md5hash = hashlib.md5(data).hexdigest()

        filedict[processed_path] = md5hash

out_file = open("Tensorflow1.9.0.json", "w")

json.dump(filedict, out_file, indent=6)

out_file.close()
print("Hashing Done!")